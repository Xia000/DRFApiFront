<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Create Product</title>



    <script>

    const addCar = async() =>{
        const carName = document.getElementById('carName').value;
        const carModel = document.getElementById('model').value;
        const color = document.getElementById('color').value;
        const category = document.getElementById('category').value;

        console.log(carName);
        console.log(carModel);
        console.log(color);
        console.log(category);


        if ( carName == '' || carModel == '' || color == '' || category == ''){
            alert('Please fill all the fields')
        }
        else{
            const response = await fetch('http://127.0.0.1:8000/api/create-product/', {
                method: 'post',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    "name": carName,
                    "bus_model" : carModel,
                    "color" : color,
                    "category" : category
                })
            });
            const data = await response.json()
            alert("Successfully added")
            console.log(localStorage.getItem('token'));
        }
    }

    </script>
</head>
<body>
    
    <h2 class="heading">Add New Product</h2>
        
    <div >
      <div class="container">
        <label for="cname"><b>Car Name</b></label>
        <input type="text" id = "carName" placeholder="Enter Car Name" name="cname" required>

        <label for="color"><b>Color</b></label>
        <input type="text" id = "color" placeholder="Enter Car Color" name="email" required>
    
        <label for="model"><b>Car Model</b></label>
        <input type="text" id = "model" placeholder="Enter Car Model" name="model" required>

        <label for="ategory"><b>Car Category</b></label>
        <input type="text" id = "category" placeholder="Enter Car Category" name="category" required>


            
        <button class="btn-sm" type="submit" onclick="addCar()" >Add New Car</button>

      </div>

    </div>
</body>
</html>